<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="org.eclipse.ui"
            class="com.tlcsdm.eclipse.instasearch.ui.InstaSearchView"
            icon="icons/search_results.gif"
            id="com.tlcsdm.eclipse.instasearch.ui.InstaSearchView"
            name="InstaSearch"
            restorable="true">
      </view>
   </extension>

   <extension point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="org.eclipse.jdt.ui.JavaPerspective">
         <view id="com.tlcsdm.eclipse.instasearch.ui.InstaSearchView" ratio="0.5" relationship="stack" relative="org.eclipse.ui.console.ConsoleView" />
         <viewShortcut id="com.tlcsdm.eclipse.instasearch.ui.InstaSearchView" />
      </perspectiveExtension>
   </extension>

   <!-- commands -->
   <extension point="org.eclipse.ui.commands">
      <category id="com.tlcsdm.eclipse.instasearch.commands.category" name="InstaSearch"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.showInstaSearch" name="Show InstaSearch" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.openSearchDialog" name="Open Search Dialog" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.visitHomePage" name="Visit Home Page" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.preferences" name="Open InstaSearch Preferences" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.deleteIndex" name="Delete Search Index" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.buildIndex" name="Build/Rebuild Search Index" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.expandAll" name="Expand All Results" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.collapseAll" name="Collapse All Results" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
      <command id="com.tlcsdm.eclipse.instasearch.commands.toggleIncremental" name="Toggle Incremental Search" categoryId="com.tlcsdm.eclipse.instasearch.commands.category"/>
   </extension>
   
   <extension
         point="org.eclipse.ui.commandImages">
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.showInstaSearch"
            icon="icons/search_results.gif">
      </image>
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.openSearchDialog"
            icon="icons/search.gif">
      </image>
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.visitHomePage"
            icon="icons/web.gif">
      </image>
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.preferences"
            icon="icons/dates.gif">
      </image>
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.deleteIndex"
            icon="icons/remove.gif">
      </image>
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.buildIndex"
            icon="icons/binary.gif">
      </image>
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.expandAll"
            icon="icons/expandall.gif">
      </image>
      <image
            commandId="com.tlcsdm.eclipse.instasearch.commands.collapseAll"
            icon="icons/collapseall.gif">
      </image>
   </extension>

   <extension point="org.eclipse.ui.handlers">
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.showInstaSearch"
               class="com.tlcsdm.eclipse.instasearch.handlers.ShowInstaSearchHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.openSearchDialog"
               class="com.tlcsdm.eclipse.instasearch.handlers.OpenSearchDialogHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.visitHomePage"
               class="com.tlcsdm.eclipse.instasearch.handlers.VisitHomePageHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.preferences"
               class="com.tlcsdm.eclipse.instasearch.handlers.PreferencesHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.deleteIndex"
               class="com.tlcsdm.eclipse.instasearch.handlers.DeleteIndexHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.buildIndex"
               class="com.tlcsdm.eclipse.instasearch.handlers.BuildIndexHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.expandAll"
               class="com.tlcsdm.eclipse.instasearch.handlers.ExpandAllHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.collapseAll"
               class="com.tlcsdm.eclipse.instasearch.handlers.CollapseAllHandler"/>
      <handler commandId="com.tlcsdm.eclipse.instasearch.commands.toggleIncremental"
               class="com.tlcsdm.eclipse.instasearch.handlers.ToggleIncrementalHandler"/>
   </extension>

   <extension point="org.eclipse.ui.menus">
      <menuContribution locationURI="menu:com.tlcsdm.eclipse.instasearch.ui.InstaSearchView?path=additions">
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.visitHomePage" label="Website" style="push"/>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.preferences" label="Preferences..." style="push"/>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.deleteIndex" label="Delete Index" style="push"/>
         <separator name="com.tlcsdm.eclipse.instasearch.separator1" visible="true"/>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.openSearchDialog" label="Search Dialog" style="push"/>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.buildIndex" label="(Re)Build Index" style="push"/>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.collapseAll" label="Collapse All" style="push"/>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.expandAll" label="Expand All" style="push"/>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.toggleIncremental" label="Incremental Search" style="toggle"/>
      </menuContribution>

      <menuContribution locationURI="toolbar:com.tlcsdm.eclipse.instasearch.ui.InstaSearchView?path=additions">
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.openSearchDialog" label="Search Dialog">
            <visibleWhen>
               <with variable="activeWorkbenchWindow">
                  <not>
                     <equals value="false"/>
                  </not>
               </with>
            </visibleWhen>
         </command>
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.buildIndex" label="Build/Rebuild" />
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.expandAll" label="Expand All" />
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.collapseAll" label="Collapse All" />
      </menuContribution>

      <menuContribution locationURI="menu:org.eclipse.search.menu">
         <command commandId="com.tlcsdm.eclipse.instasearch.commands.showInstaSearch" label="InstaSearch..." />
      </menuContribution>
   </extension>

   <extension point="org.eclipse.search.searchPages">
      <page
            canSearchEnclosingProjects="true"
            class="com.tlcsdm.eclipse.instasearch.ui.InstaSearchPage"
            enabled="true"
            extensions="*"
            icon="icons/search_results.gif"
            id="com.tlcsdm.eclipse.instasearch.ui.InstaSearchPage"
            label="InstaSearch"
            showScopeSection="true"
            tabPosition="0">
      </page>
   </extension>

   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="com.tlcsdm.eclipse.instasearch.commands.showInstaSearch"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+M3+I">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="org.eclipse.search.preferences.SearchPreferencePage"
            class="com.tlcsdm.eclipse.instasearch.prefs.InstaSearchPreferencePage"
            id="com.tlcsdm.eclipse.instasearch.prefs.InstaSearchPreferencePage"
            name="InstaSearch">
      </page>
   </extension>

   <extension point="org.eclipse.ui.startup">
      <startup class="com.tlcsdm.eclipse.instasearch.InstaSearchStartup"/>
   </extension>
   
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="com.tlcsdm.eclipse.instasearch.prefs.PreferenceInitializer">
      </initializer>
   </extension>

</plugin>